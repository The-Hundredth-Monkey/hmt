_:
  verbs:   [use, set, update, '*']
  modules: [HMT, MM_*] 

packages and tools:
  stage: restart 
  chocolatey: latest                                  # Use-Chocolatey -Latest
  packages:                                           # Use-Packages -Chocolatey @(..) -Gem @(...) 
    - chocolatey:
      - copyq
      - everything --params '/Service'
      - totalcommander --params /DefaultFM'
    - gem:
      - gist
      - nanoc
  git repositories:                                   # Use-GitRepositories -Repos @() -Root
    root: c:\work
    repos:
     - majkinetor/posh
     - majkinetor/profile_d
     - whlmt/Debloat-Win-10

# windows update:     
#   stage: [restart. rerurn] 
#   windows update:                                     # Invoke-WindowsUpdate -Category critical
#     category: critical
    
windows config:
  stage: restart
  
  explorer options:
    - show hidden files
    - show protected OS files
    - show file extensions
    - show full path in title bar
  
  language list |@: [en-uk, sr-lat, sr-cyr]  #???? LanguageList is array param  

  # languge: 
  #   list: [en-uk, sr-lat, sr-cyr]
  #   force: true 
  
  proxy:
     server: 10.35.9.55:8080
     enable: 1      
  
  computer name: 
      $name: >
        $systeminfo = gwmi Win32_ComputerSystem
        $manufacturer = $systeminfo.Manufacturer -split ' ' | select -first 1
        $year = (get-date).ToString('yy')
        $name = 'mm-{0}{1}-w10' -f $manufacturer.ToLower(), $year
        if ($name.Lenght -gt 15) { $name.Substring(0,14) } else { $name }
      params: $name
  
  pinned applications |=:
    - $Env:ProgramFiles\NPP\npp.exe
    - $Env:ProgramFiles\Conemu\Conemu.exe

debloat windows:
   stage: always restart
   script: |
     cd c:\source\debloat-windows-10
     ls scripts\*.ps1 | { Write-Host $_; . $_ }